Vue.createApp({data:()=>({addingFormOpen:!1,buttonText:"Копировать",editedSymbolIndex:-1,symbolInput:"",symbols:[]}),created(){document.addEventListener("keydown",t=>{"Escape"===t.key&&(this.addingFormOpen=!1)})},mounted(){this.getFromLocalStorage()},methods:{toggleAddingForm(){this.addingFormOpen=!this.addingFormOpen,this.addingFormOpen?(this.symbolInput="",this.$nextTick(()=>{this.$refs.symbolInput.focus()})):this.editedSymbolIndex=-1},addSymbol(){if(this.symbolInput.trim()){let t={id:"id"+Math.random().toString(16).slice(2),name:this.symbolInput};-1!==this.editedSymbolIndex?(this.symbols[this.editedSymbolIndex].name=t.name,this.editedSymbolIndex=-1):this.symbols.push(t),this.addToLocalStorage(),this.symbolInput="",this.addingFormOpen=!1}},deleteSymbol(t){this.symbols=this.symbols.filter(e=>e.id!==t),this.addToLocalStorage()},editSymbol(t){this.symbolInput=t.name,this.editedSymbolIndex=this.symbols.findIndex(e=>e.id===t.id),this.addingFormOpen=!0},addToLocalStorage(){localStorage.setItem("symbols",JSON.stringify(this.symbols))},getFromLocalStorage(){let t=localStorage.getItem("symbols");t&&(this.symbols=JSON.parse(t))},copyToClipboard(t){navigator.clipboard.writeText(t).then(()=>{this.buttonText="Скопировано",setTimeout(()=>{this.buttonText="Копировать"},2e3)}).catch(t=>{console.error("Copy to clipboard failed:",t)})},addActiveClass(t){t.active=!0},removeActiveClass(t){setTimeout(()=>{t.active=!1},250)}}}).mount(".page");